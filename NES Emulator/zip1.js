(function(a){"use strict";function b(){this.crc=-1}function c(){}function d(a,b,c){if(0>b||0>c||b+c>a.size)throw new RangeError("offset:"+b+", length:"+c+", size:"+a.size);return a.slice?a.slice(b,b+c):a.webkitSlice?a.webkitSlice(b,b+c):a.mozSlice?a.mozSlice(b,b+c):a.msSlice?a.msSlice(b,b+c):void 0}function e(a,b){var c,d;return c=new ArrayBuffer(a),d=new Uint8Array(c),b&&d.set(b,0),{buffer:c,array:d,view:new DataView(c)}}function f(){}function g(a){function b(b,c){var f=new Blob([a],{type:"text/plain"});d=new i(f),d.init(function(){e.size=d.size,b()},c)}function c(a,b,c,e){d.readUint8Array(a,b,c,e)}var d,e=this;e.size=0,e.init=b,e.readUint8Array=c}function h(b){function c(a){for(var c=b.length;"="==b.charAt(c-1);)c--;f=b.indexOf(",")+1,g.size=Math.floor(.75*(c-f)),a()}function d(c,d,g){var h,j=e(d),k=4*Math.floor(c/3),l=4*Math.ceil((c+d)/3),m=a.atob(b.substring(k+f,l+f)),n=c-3*Math.floor(k/4);for(h=n;h<n+d;h++)j.array[h-n]=m.charCodeAt(h);g(j.array)}var f,g=this;g.size=0,g.init=c,g.readUint8Array=d}function i(a){var b=this;b.size=0,b.init=function(c){b.size=a.size,c()},b.readUint8Array=function(b,c,f,g){var h=new FileReader;h.onload=function(a){f(new Uint8Array(a.target.result))},h.onerror=g;try{h.readAsArrayBuffer(d(a,b,c))}catch(a){g(a)}}}function j(){}function k(a){function b(a,b){d=new Blob([d,E?a:a.buffer],{type:"text/plain"}),b()}function c(b,c){var e=new FileReader;e.onload=function(a){b(a.target.result)},e.onerror=c,e.readAsText(d,a)}var d,e=this;e.init=function(a){d=new Blob([],{type:"text/plain"}),a()},e.writeUint8Array=b,e.getData=c}function l(b){function c(b,c){var d,e=g.length,h=g;for(g="",d=0;d<3*Math.floor((e+b.length)/3)-e;d++)h+=String.fromCharCode(b[d]);for(;d<b.length;d++)g+=String.fromCharCode(b[d]);2<h.length?f+=a.btoa(h):g=h,c()}function d(b){b(f+a.btoa(g))}var e=this,f="",g="";e.init=function(a){f+="data:"+(b||"")+";base64,",a()},e.writeUint8Array=c,e.getData=d}function m(a){function b(b,c){d=new Blob([d,E?b:b.buffer],{type:a}),c()}function c(a){a(d)}var d,e=this;e.init=function(b){d=new Blob([],{type:a}),b()},e.writeUint8Array=b,e.getData=c}function n(a,b,c,d,e,f,g,h,i,j){function k(){a.removeEventListener("message",l,!1),h(o,p)}function l(b){var c=b.data,e=c.data,h=c.error;if(h)return h.toString=function(){return"Error: "+this.message},void i(h);if(c.sn===r)switch("number"==typeof c.codecTime&&(a.codecTime+=c.codecTime),"number"==typeof c.crcTime&&(a.crcTime+=c.crcTime),c.type){case"append":e?(o+=e.length,d.writeUint8Array(e,function(){m()},j)):m();break;case"flush":p=c.crc,e?(o+=e.length,d.writeUint8Array(e,function(){k()},j)):k();break;case"progress":g&&g(n+c.loaded,f);break;case"importScripts":case"newTask":case"echo":break;default:console.warn("zip.js:launchWorkerProcess: unknown message: ",c);}}function m(){n=q*524288,n<=f?c.readUint8Array(e+n,Math.min(524288,f-n),function(c){g&&g(n,f);var d=0===n?b:{sn:r};d.type="append",d.data=c;try{a.postMessage(d,[c.buffer])}catch(b){a.postMessage(d)}q++},i):a.postMessage({sn:r,type:"flush"})}var n,o,p,q=0,r=b.sn;o=0,a.addEventListener("message",l,!1),m()}function o(a,c,d,e,f,g,h,i,j,k){function l(){var b;if(m=524288*n,m<f)c.readUint8Array(e+m,Math.min(524288,f-m),function(b){var c;try{c=a.append(b,function(a){h&&h(m+a,f)})}catch(a){return void j(a)}c?(o+=c.length,d.writeUint8Array(c,function(){n++,setTimeout(l,1)},k),q&&r.append(c)):(n++,setTimeout(l,1)),p&&r.append(b),h&&h(m,f)},j);else{try{b=a.flush()}catch(a){return void j(a)}b?(q&&r.append(b),o+=b.length,d.writeUint8Array(b,function(){i(o,r.get())},k)):i(o,r.get())}}var m,n=0,o=0,p="input"===g,q="output"===g,r=new b;l()}function p(b,c,d,e,f,g,h,i,j,k,l){var m=h?"output":"none";if(a.zip.useWebWorkers){n(b,{sn:c,codecClass:"Inflater",crcType:m},d,e,f,g,j,i,k,l)}else o(new a.zip.Inflater,d,e,f,g,m,j,i,k,l)}function q(b,c,d,e,f,g,h,i,j){if(a.zip.useWebWorkers){n(b,{sn:c,options:{level:f},codecClass:"Deflater",crcType:"input"},d,e,0,d.size,h,g,i,j)}else o(new a.zip.Deflater,d,e,0,d.size,"input",h,g,i,j)}function r(b,d,e,f,g,h,i,j,k,l,m){if(a.zip.useWebWorkers&&i){n(b,{sn:d,codecClass:"NOOP",crcType:"input"},e,f,g,h,k,j,l,m)}else o(new c,e,f,g,h,"input",k,j,l,m)}function s(a){var b,c,d="",e=["\xC7","\xFC","\xE9","\xE2","\xE4","\xE0","\xE5","\xE7","\xEA","\xEB","\xE8","\xEF","\xEE","\xEC","\xC4","\xC5","\xC9","\xE6","\xC6","\xF4","\xF6","\xF2","\xFB","\xF9","\xFF","\xD6","\xDC","\xF8","\xA3","\xD8","\xD7","\u0192","\xE1","\xED","\xF3","\xFA","\xF1","\xD1","\xAA","\xBA","\xBF","\xAE","\xAC","\xBD","\xBC","\xA1","\xAB","\xBB","_","_","_","\xA6","\xA6","\xC1","\xC2","\xC0","\xA9","\xA6","\xA6","+","+","\xA2","\xA5","+","+","-","-","+","-","+","\xE3","\xC3","+","+","-","-","\xA6","-","+","\xA4","\xF0","\xD0","\xCA","\xCB","\xC8","i","\xCD","\xCE","\xCF","+","+","_","_","\xA6","\xCC","_","\xD3","\xDF","\xD4","\xD2","\xF5","\xD5","\xB5","\xFE","\xDE","\xDA","\xDB","\xD9","\xFD","\xDD","\xAF","\xB4","\xAD","\xB1","_","\xBE","\xB6","\xA7","\xF7","\xB8","\xB0","\xA8","\xB7","\xB9","\xB3","\xB2","_"," "];for(b=0;b<a.length;b++)c=255&a.charCodeAt(b),d+=127<c?e[c-128]:String.fromCharCode(c);return d}function t(a){return decodeURIComponent(escape(a))}function u(a){var b,c="";for(b=0;b<a.length;b++)c+=String.fromCharCode(a[b]);return c}function v(a){var b=(4294901760&a)>>16,c=65535&a;try{return new Date(1980+((65024&b)>>9),((480&b)>>5)-1,31&b,(63488&c)>>11,(2016&c)>>5,2*(31&c),0)}catch(a){}}function w(a,b,c,d,e){return(a.version=b.view.getUint16(c,!0),a.bitFlag=b.view.getUint16(c+2,!0),a.compressionMethod=b.view.getUint16(c+4,!0),a.lastModDateRaw=b.view.getUint32(c+6,!0),a.lastModDate=v(a.lastModDateRaw),1==(1&a.bitFlag))?void e("File contains encrypted entry."):((d||8!=(8&a.bitFlag))&&(a.crc32=b.view.getUint32(c+10,!0),a.compressedSize=b.view.getUint32(c+14,!0),a.uncompressedSize=b.view.getUint32(c+18,!0)),4294967295===a.compressedSize||4294967295===a.uncompressedSize?void e("File is using Zip64 (4gb+ file size)."):void(a.filenameLength=b.view.getUint16(c+22,!0),a.extraFieldLength=b.view.getUint16(c+24,!0)))}function x(b,c,d){function f(){}function g(a){function c(c,e){b.readUint8Array(b.size-c,c,function(b){for(var c=b.length-22;0<=c;c--)if(80===b[c]&&75===b[c+1]&&5===b[c+2]&&6===b[c+3])return void a(new DataView(b.buffer,c,22));e()},function(){d("Error while reading zip file.")})}if(22>b.size)return void d("File format is not recognized.");c(22,function(){c(Math.min(65558,b.size),function(){d("File format is not recognized.")})})}var h=0;f.prototype.getData=function(a,c,f,g){function i(a){var b=e(4);return b.view.setUint32(0,a),m.crc32==b.view.getUint32(0)}function j(b,e){g&&!i(e)?d("CRC failed."):a.getData(function(a){c(a)})}function k(a){d(a||"Error while reading file data.")}function l(a){d(a||"Error while writing file data.")}var m=this;b.readUint8Array(m.offset,30,function(c){var i,n=e(c.length,c);return 1347093252==n.view.getUint32(0)?void(w(m,n,4,!1,d),i=m.offset+30+m.filenameLength+m.extraFieldLength,a.init(function(){0===m.compressionMethod?r(m._worker,h++,b,a,i,m.compressedSize,g,j,f,k,l):p(m._worker,h++,b,a,i,m.compressedSize,g,j,f,k,l)},l)):void d("File format is not recognized.")},k)};var i={getEntries:function(a){var c=this._worker;g(function(g){var h,j;return h=g.getUint32(16,!0),j=g.getUint16(8,!0),0>h||h>=b.size?void d("File format is not recognized."):void b.readUint8Array(h,b.size-h,function(b){var g,h,k,l,m=0,n=[],o=e(b.length,b);for(g=0;g<j;g++){if(h=new f,h._worker=c,1347092738!=o.view.getUint32(m))return void d("File format is not recognized.");w(h,o,m+6,!0,d),h.commentLength=o.view.getUint16(m+32,!0),h.directory=16==(16&o.view.getUint8(m+38)),h.offset=o.view.getUint32(m+42,!0),k=u(o.array.subarray(m+46,m+46+h.filenameLength)),h.filename=2048==(2048&h.bitFlag)?t(k):s(k),h.directory||"/"!=h.filename.charAt(h.filename.length-1)||(h.directory=!0),l=u(o.array.subarray(m+46+h.filenameLength+h.extraFieldLength,m+46+h.filenameLength+h.extraFieldLength+h.commentLength)),h.comment=2048==(2048&h.bitFlag)?t(l):s(l),n.push(h),m+=46+h.filenameLength+h.extraFieldLength+h.commentLength}a(n)},function(){d("Error while reading zip file.")})})},close:function(a){this._worker&&(this._worker.terminate(),this._worker=null),a&&a()},_worker:null};a.zip.useWebWorkers?C("inflater",function(a){i._worker=a,c(i)},function(a){d(a)}):c(i)}function y(a){return unescape(encodeURIComponent(a))}function z(a){var b,c=[];for(b=0;b<a.length;b++)c.push(a.charCodeAt(b));return c}function A(b,c,d,f){function g(a){d(a||"Error while writing zip file.")}function h(a){d(a||"Error while reading file data.")}var i={},j=[],k=0,l=0,m={add:function(a,c,m,n,o){function p(c){var d;w=o.lastModDate||new Date,u=e(26),i[a]={headerArray:u.array,directory:o.directory,filename:v,offset:k,comment:z(y(o.comment||""))},u.view.setUint32(0,335546376),o.version&&u.view.setUint8(0,o.version),f||0===o.level||o.directory||u.view.setUint16(4,2048),u.view.setUint16(6,(w.getHours()<<6|w.getMinutes())<<5|w.getSeconds()/2,!0),u.view.setUint16(8,(w.getFullYear()-1980<<4|w.getMonth()+1)<<5|w.getDate(),!0),u.view.setUint16(22,v.length,!0),d=e(30+v.length),d.view.setUint32(0,1347093252),d.array.set(u.array,4),d.array.set(v,30),k+=d.array.length,b.writeUint8Array(d.array,c,g)}function s(a,d){var f=e(16);k+=a||0,f.view.setUint32(0,1347094280),"undefined"!=typeof d&&(u.view.setUint32(10,d,!0),f.view.setUint32(4,d,!0)),c&&(f.view.setUint32(8,a,!0),u.view.setUint32(14,a,!0),f.view.setUint32(12,c.size,!0),u.view.setUint32(18,c.size,!0)),b.writeUint8Array(f.array,function(){k+=16,m()},g)}function t(){return o=o||{},a=a.trim(),o.directory&&"/"!=a.charAt(a.length-1)&&(a+="/"),i.hasOwnProperty(a)?void d("File already exists."):void(v=z(y(a)),j.push(a),p(function(){c?f||0===o.level?r(x,l++,c,b,0,c.size,!0,s,n,h,g):q(x,l++,c,b,o.level,s,n,h,g):s()},g))}var u,v,w,x=this._worker;c?c.init(t,h):t()},close:function(a){this._worker&&(this._worker.terminate(),this._worker=null);var c,d,f,h=0,l=0;for(d=0;d<j.length;d++)f=i[j[d]],h+=46+f.filename.length+f.comment.length;for(c=e(h+22),d=0;d<j.length;d++)f=i[j[d]],c.view.setUint32(l,1347092738),c.view.setUint16(l+4,5120),c.array.set(f.headerArray,l+6),c.view.setUint16(l+32,f.comment.length,!0),f.directory&&c.view.setUint8(l+38,16),c.view.setUint32(l+42,f.offset,!0),c.array.set(f.filename,l+46),c.array.set(f.comment,l+46+f.filename.length),l+=46+f.filename.length+f.comment.length;c.view.setUint32(l,1347093766),c.view.setUint16(l+8,j.length,!0),c.view.setUint16(l+10,j.length,!0),c.view.setUint32(l+12,h,!0),c.view.setUint32(l+16,k,!0),b.writeUint8Array(c.array,function(){b.getData(a)},g)},_worker:null};a.zip.useWebWorkers?C("deflater",function(a){m._worker=a,c(m)},function(a){d(a)}):c(m)}function B(b){var c=document.createElement("a");return b.map(function(a){return c.href=a,c.href})}function C(b,c,d){function e(a){var b=a.data;return b.error?(h.terminate(),void d(b.error)):void("importScripts"===b.type&&(h.removeEventListener("message",e),h.removeEventListener("error",f),c(h)))}function f(a){h.terminate(),d(a)}if(null!==a.zip.workerScripts&&null!==a.zip.workerScriptsPath)return void d(new Error("Either zip.workerScripts or zip.workerScriptsPath may be set, not both."));var g;if(a.zip.workerScripts){if(g=a.zip.workerScripts[b],!Array.isArray(g))return void d(new Error("zip.workerScripts."+b+" is not an array!"));g=B(g)}else g=F[b].slice(0),g[0]=(a.zip.workerScriptsPath||"")+g[0];var h=new Worker(g[0]);h.codecTime=h.crcTime=0,h.postMessage({type:"importScripts",scripts:g.slice(1)}),h.addEventListener("message",e),h.addEventListener("error",f)}function D(a){console.error(a)}var E;try{E=0===new Blob([new DataView(new ArrayBuffer(0))]).size}catch(a){}b.prototype.append=function(a){for(var b=0|this.crc,c=this.table,d=0,e=0|a.length;d<e;d++)b=b>>>8^c[255&(b^a[d])];this.crc=b},b.prototype.get=function(){return~this.crc},b.prototype.table=function(){var a,b,c,d=[];for(a=0;256>a;a++){for(c=a,b=0;8>b;b++)1&c?c=3988292384^c>>>1:c>>>=1;d[a]=c}return d}(),c.prototype.append=function(a){return a},c.prototype.flush=function(){},g.prototype=new f,g.prototype.constructor=g,h.prototype=new f,h.prototype.constructor=h,i.prototype=new f,i.prototype.constructor=i,j.prototype.getData=function(a){a(this.data)},k.prototype=new j,k.prototype.constructor=k,l.prototype=new j,l.prototype.constructor=l,m.prototype=new j,m.prototype.constructor=m;var F={deflater:["z-worker.js","deflate.js"],inflater:["z-worker.js","inflate.js"]};a.zip={Reader:f,Writer:j,BlobReader:i,Data64URIReader:h,TextReader:g,BlobWriter:m,Data64URIWriter:l,TextWriter:k,createReader:function(a,b,c){c=c||D,a.init(function(){x(a,b,c)},c)},createWriter:function(a,b,c,d){c=c||D,d=!!d,a.init(function(){A(a,b,c,d)},c)},useWebWorkers:!0,workerScriptsPath:null,workerScripts:null}})(this);